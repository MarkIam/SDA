{% extends "base.html"%}

{%block content%}
<div class="row">
    {% verbatim %}
    <div class="col-3" id="liftsColumn">
        <h3>Дата</h3>
        <input type='date' v-model="currentDay" id='liftsDate' v-on:change='getLifts'>
        <div id="liftsArea">
            <h3>Подъемы</h3>
            <b-list-group id="liftsGroup">
                <b-list-group-item v-for="(lift, index) in liftsList" :key="lift.id" v-b-toggle.collapse-1 :id="'lift_' + lift.id">
                    {{ lift.ord_number }}. {{ lift.plane_reg_number }}
                    <b-collapse :id="'collapse-' + (index + 1)" class="mt-2">
                        <b-list-group :id="'list-group-' + lift.plane_reg_number + '_' + lift.ord_number">
                            <b-list-group-item v-for="request in lift.requests" :key="request.id" :id="'req_' + request.id">
                                <div>{{ request.name }}</div>
                                <button class="btn btn-primary"onclick="BindRequestToLift(this, false)">&gt;</button>
                            </b-list-group-item>
                        </b-list-group>
                        <div v-if="lift.requests.length == 0">Заявки отсутствуют.</div>
                    </b-collapse>
                </b-list-group-item>
            <b-list-group>
            <div v-if="liftsList.length == 0">Подъемы отсутствуют.</div>
        </div>
    </div>
    <div class="col-9" id="requestsArea">
        <h3>Заявки</h3>
        <b-tabs content-class="mt-3">
            <b-tab v-for="(disc, index) in disciplinesList" :key="disc.id" :title="disc.discipline_name" v-bind:active="index == 1">
                <b-list-group>
                    <b-list-group-item v-for="request in disc.requests" :key="request.id">
                        <button class="btn btn-primary" onclick="BindRequestToLift(this, true)">&lt;</button>
                        <div>{{ request.skydiver_name }}, {{ request.height }} м</div>
                        <div> {{ request.creationStamp }}</div>
                    </b-list-group-item>
                </b-list-group>
            </b-tab>
        </b-tabs>
    </div>
    {% endverbatim%}
</div>

{%endblock%}